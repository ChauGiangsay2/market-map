import { CommonModule } from '@angular/common';
import { Component, signal } from '@angular/core';
import {
  FormBuilder,
  FormGroup,
  FormsModule,
  ReactiveFormsModule,
  Validators,
} from '@angular/forms';
import {
  tileLayer,
  latLng,
  Map,
  Marker,
  marker,
  icon,
  LatLngTuple,
} from 'leaflet';
import { ButtonModule } from 'primeng/button';
import { DialogModule } from 'primeng/dialog';
import { FileUploadModule } from 'primeng/fileupload';
import { InputTextModule } from 'primeng/inputtext';
import { InputTextareaModule } from 'primeng/inputtextarea';
import { LeafletModule } from '@asymmetrik/ngx-leaflet';
import { MarketStallListComponent } from '../market-stall-list/market-stall-list.component';
import { NgZone } from '@angular/core';
import { Router } from '@angular/router';
import { ToolbarModule } from 'primeng/toolbar';
import { NominatimPlace } from '../../services/nominatim.service';
import { NominatimSearchComponent } from '../nominatim-search/nominatim-search.component';
import { PanelModule } from 'primeng/panel';
import { DropdownModule } from 'primeng/dropdown';
import axios from 'axios';
import { polyline } from 'leaflet';

@Component({
  selector: 'app-wish-list',
  standalone: true,
  imports: [
    CommonModule,
    ReactiveFormsModule,
    FormsModule,
    LeafletModule,
    DialogModule,
    ButtonModule,
    InputTextModule,
    InputTextareaModule,
    FileUploadModule,
    MarketStallListComponent,
    ToolbarModule,
    NominatimSearchComponent,
    PanelModule,
    DropdownModule,
  ],
  templateUrl: './wish-list.component.html',
  styleUrls: ['./wish-list.component.scss'],
})
export class WishListComponent {
  map!: Map;
  dialogVisible = false;
  dialogReviewVisible = false; // dialog đánh giá

  form!: FormGroup;
  clickedLat!: number;
  clickedLng!: number;
  clickedAddress = signal('');
  markers: Marker[] = [];

  baChieuCoords: LatLngTuple = [10.805065, 106.692247];
  baChieuDialogVisible = false;

  maps!: L.Map;
  routeLayer?: L.Polyline;
  startMarker?: L.Marker;
  endMarker?: L.Marker;

  nearestMarket: any = null; // sạp gần nhất bất kỳ
  nearestHighRated: any = null; // sạp gần nhất có rating >= 4.5
  nearestDialogVisible = false;
  vendors = [
    {
      name: 'Sạp Trái Cây Cô Năm',
      coords: [10.8052, 106.6923] as LatLngTuple,
      address: 'Lô A1.1, Chợ Bà Chiểu',
      openHours: '6h - 18h',
      contact: '0901 111 222',
      items: 'Xoài, Ổi, Cam',
      images: [
        'https://suno.vn/blog/wp-content/uploads/2018/04/ban-trai-cay.jpg',
      ],
      rating: 4.5,
    },
    {
      name: 'Sạp Cá Chú Bảy',
      coords: [10.8045, 106.6915] as LatLngTuple,
      address: 'Lô B2.1, Chợ Bà Chiểu',
      openHours: '5h - 14h',
      contact: '0902 333 444',
      items: 'Cá lóc, cá rô',
      images: [
        'https://tepbac.com/upload/news/ge_image/2021/07/sap-ban-ca_1627544387.jpg',
      ],
      rating: 4.3,
    },
    {
      name: 'Sạp Quần Áo Cô Trang',
      coords: [10.8058, 106.693] as LatLngTuple,
      address: 'Lô B3.1, Chợ Bà Chiểu',
      openHours: '8h - 20h',
      contact: '0903 555 666',
      items: 'Áo thun, quần jeans',
      images: [
        'data:image/jpeg;base64,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',
      ],
      rating: 4.8,
    },
    {
      name: 'Sạp Gạo Chú Ba',
      coords: [10.8058, 106.693] as LatLngTuple,
      address: 'Lô A2.1, Chợ Bà Chiểu',
      openHours: '7h - 17h',
      contact: '0904 777 888',
      items: 'Gạo ST25, gạo Nàng Thơm',
      images: [
        'data:image/jpeg;base64,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',
      ],
      rating: 4.6,
    },
    {
      name: 'Sạp Gia Vị Cô Sáu',
      coords: [10.8058, 106.693] as LatLngTuple,
      address: 'Lô A2.5, Chợ Bà Chiểu',
      openHours: '6h - 19h',
      contact: '0905 999 000',
      items: 'Muối, nước mắm, tiêu',
      images: ['assets/spices.jpg'],
      rating: 4.4,
    },
  ];

  options = {
    layers: [
      tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '© OpenStreetMap contributors',
      }),
    ],
    zoom: 13,
    center: latLng(10.77653, 106.70098),
  };

  constructor(
    private fb: FormBuilder,
    private zone: NgZone,
    private router: Router // ✅ thêm private
  ) {}

  ngOnInit() {
    this.form = this.fb.group({
      name: ['', Validators.required],
      description: [''],
      images: [null],
    });
  }
  private calcDistance(a: LatLngTuple, b: LatLngTuple): number {
    const R = 6371; // bán kính Trái Đất (km)
    const dLat = ((b[0] - a[0]) * Math.PI) / 180;
    const dLon = ((b[1] - a[1]) * Math.PI) / 180;
    const lat1 = (a[0] * Math.PI) / 180;
    const lat2 = (b[0] * Math.PI) / 180;

    const hav =
      Math.sin(dLat / 2) ** 2 +
      Math.sin(dLon / 2) ** 2 * Math.cos(lat1) * Math.cos(lat2);
    return 2 * R * Math.asin(Math.sqrt(hav));
  }
  findNearestMarket(lat: number, lon: number) {
    // Sạp gần nhất bất kỳ
    const nearestAny = this.vendors
      .map((v) => ({
        ...v,
        distance: this.calcDistance([lat, lon], v.coords),
      }))
      .sort((a, b) => a.distance - b.distance)[0];

    // Sạp gần nhất có rating >= 4.5
    const nearestHighRated = this.vendors
      .filter((v) => v.rating >= 4.5)
      .map((v) => ({
        ...v,
        distance: this.calcDistance([lat, lon], v.coords),
      }))
      .sort((a, b) => a.distance - b.distance)[0];

    // Gán kết quả để hiển thị trong dialog
    this.nearestMarket = nearestAny || null;
    this.nearestHighRated = nearestHighRated || null;

    this.nearestDialogVisible = true; // mở dialog
  }

  onMapReady(map: Map) {
    this.map = map;

    setTimeout(() => {
      map.invalidateSize();
      map.panTo(this.baChieuCoords);
    }, 100);

    marker(this.baChieuCoords, {
      icon: icon({
        iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
        shadowUrl:
          'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
      }),
    })
      .addTo(this.map)
      //.bindTooltip('📍 Chợ Bà Chiểu', { permanent: true, direction: 'top' })
      .on('click', () => {
        this.zone.run(() => {
          this.baChieuDialogVisible = true;
        });
      });
  }

  onMapClick(evt: any) {
    this.clickedLat = evt.latlng.lat;
    this.clickedLng = evt.latlng.lng;
    this.clickedAddress.set(
      `Lat: ${this.clickedLat.toFixed(6)}, Lng: ${this.clickedLng.toFixed(6)}`
    );
    this.dialogVisible = true;
  }

  onSelectFiles(event: any) {
    this.form.patchValue({ images: event.files });
  }

  save() {
    if (this.form.invalid) return;

    const payload = new FormData();
    payload.append('name', this.form.value.name);
    payload.append('description', this.form.value.description);
    payload.append('latitude', String(this.clickedLat));
    payload.append('longitude', String(this.clickedLng));
    payload.append('address', this.clickedAddress());

    ((this.form.value.images as File[]) || []).forEach((file) =>
      payload.append('images', file, file.name)
    );

    marker([this.clickedLat, this.clickedLng], {
      icon: icon({
        iconUrl: 'assets/marker-icon.png',
        shadowUrl: 'assets/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
      }),
    })
      .bindPopup(`<b>${this.form.value.name}</b><br>${this.clickedAddress()}`)
      .addTo(this.map);

    this.dialogVisible = false;
    this.form.reset();
  }
  onAddVendor() {
    console.log('👉 Thêm sạp mới');
    // Gợi ý: mở một dialog để thêm mới
  }

  onEditVendor(vendor: any) {
    console.log('✏️ Sửa sạp:', vendor);
    // Gợi ý: mở form dialog để chỉnh sửa
  }

  onDeleteVendor(vendor: any) {
    console.log('🗑️ Xoá sạp:', vendor);
    this.vendors = this.vendors.filter((v) => v !== vendor);
  }

  goToAdmin() {
    window.open('/admin', '_blank');
  }

  onPlaceSelected(place: NominatimPlace) {
    const lat = parseFloat(place.lat);
    const lon = parseFloat(place.lon);

    if (this.map) {
      this.map.setView([lat, lon], 16);

      marker([lat, lon], {
        icon: icon({
          iconUrl:
            'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
          shadowUrl:
            'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
          iconSize: [25, 41],
          iconAnchor: [12, 41],
        }),
      })
        .addTo(this.map)
        .bindPopup(place.display_name)
        .openPopup();

      // Pan map đến chợ
      this.map.panTo([lat, lon]);

      // Tìm chợ gần nhất
      this.findNearestMarket(lat, lon);
    }
  }

  criteriaOptions = [
    { label: 'Quãng đường ngắn nhất', value: 'shortest' },
    { label: 'Thời gian nhanh nhất', value: 'fastest' },
    { label: 'Chợ có rating cao (≥4.5⭐)', value: 'highRating' },
  ];
  selectedCriteria: string | null = null;

  // Gợi ý tuyến đường
  getRoute(start: [number, number], end: [number, number]) {
    switch (this.selectedCriteria) {
      case 'shortest':
        console.log('Tính đường ngắn nhất...');
        break;
      case 'fastest':
        console.log('Tính đường nhanh nhất...');
        break;
      case 'highRating':
        console.log('Đi đến chợ rating ≥ 4.5');
        break;
    }
  }
  async getRouteFromUITToBaChieu() {
    if (!this.map) return;

    const start: [number, number] = [106.8021, 10.87]; // lng, lat ĐH CNTT
    const end: [number, number] = [106.692247, 10.805065]; // lng, lat Chợ Bà Chiểu

    // Xóa route cũ
    if (this.routeLayer) {
      this.map.removeLayer(this.routeLayer);
    }

    try {
      const url = `https://router.project-osrm.org/route/v1/driving/${start[0]},${start[1]};${end[0]},${end[1]}?overview=full&geometries=geojson`;

      const res = await axios.get(url);
      const route = res.data.routes[0];

      if (!route) {
        console.warn('Không tìm thấy route');
        return;
      }

      const coords = route.geometry.coordinates.map((c: any) => [c[1], c[0]]); // [lat,lng]

      // Vẽ marker start & end
      marker([start[1], start[0]])
        .addTo(this.map)
        .bindPopup('🎓 ĐH CNTT')
        .openPopup();
      marker([end[1], end[0]]).addTo(this.map).bindPopup('🛍️ Chợ Bà Chiểu');

      // Vẽ polyline
      this.routeLayer = polyline(coords, { color: 'blue', weight: 5 }).addTo(
        this.map
      );

      // Pan + zoom để thấy toàn bộ tuyến
      this.map.fitBounds(this.routeLayer.getBounds());

      console.log(
        `🚗 Quãng đường: ${(route.distance / 1000).toFixed(
          2
        )} km, Thời gian: ${(route.duration / 60).toFixed(1)} phút`
      );
    } catch (err) {
      console.error('❌ Lỗi khi lấy route:', err);
    }
  }

  startAddress: string = 'ĐH CNTT';
  endAddress: string = 'Chợ Bà Chiểu';

  // đảo ngược điểm
  swapPoints() {
    [this.startAddress, this.endAddress] = [this.endAddress, this.startAddress];
  }

  // chỉ đường (demo mặc định UIT -> Bà Chiểu)
  async getRouteee() {
    const start: [number, number] = [106.8021, 10.87]; // UIT
    const end: [number, number] = [106.692247, 10.805065]; // Ba Chieu

    await this.getRouteFromPoints(start, end);
  }

  // Hàm vẽ route dùng OSRM
  async getRouteFromPoints(start: [number, number], end: [number, number]) {
    if (!this.map) return;

    if (this.routeLayer) this.map.removeLayer(this.routeLayer);
    if (this.startMarker) this.map.removeLayer(this.startMarker);
    if (this.endMarker) this.map.removeLayer(this.endMarker);

    const url = `https://router.project-osrm.org/route/v1/driving/${start[0]},${start[1]};${end[0]},${end[1]}?overview=full&geometries=geojson`;
    const res = await axios.get(url);
    const route = res.data.routes[0];
    const coords = route.geometry.coordinates.map((c: any) => [c[1], c[0]]);

    this.startMarker = marker([start[1], start[0]])
      .addTo(this.map)
      .bindPopup('🎓 Điểm bắt đầu');
    this.endMarker = marker([end[1], end[0]])
      .addTo(this.map)
      .bindPopup('📍 Điểm đến');
    this.routeLayer = polyline(coords, { color: 'blue', weight: 5 }).addTo(
      this.map
    );

    this.map.fitBounds(this.routeLayer.getBounds());
  }
}
